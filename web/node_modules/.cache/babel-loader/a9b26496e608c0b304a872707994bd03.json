{"ast":null,"code":"var _jsxFileName = \"/Users/ryantraficante/Documents/projects/bug-tracker/web/src/Components/ProjectBoard.js\",\n    _s = $RefreshSig$();\n\nimport { useQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { GET_PROJECT } from \"../graphql/queries/project\";\nimport CreateTask from \"./CreateTask\";\nimport DeleteProjectConfirm from \"./DeleteProjectConfirm\";\nimport EditTask from \"./EditTask\";\nimport ProjectStatusContainer from \"./ProjectStatusContainer\";\nimport TaskInformation from \"./TaskInformation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ProjectBoard(_ref) {\n  _s();\n\n  let {\n    user,\n    userLoading\n  } = _ref;\n  const navigate = useNavigate();\n  const params = useParams();\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [showTaskInfo, setShowTaskInfo] = useState(false);\n  const [taskShown, setTaskShown] = useState({});\n  const [showTaskEdit, setShowTaskEdit] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  useEffect(() => {\n    if (!(user !== null && user !== void 0 && user.me) && !userLoading) {\n      navigate(\"/login\");\n    }\n  }, [navigate, user === null || user === void 0 ? void 0 : user.me, userLoading]);\n  const {\n    loading,\n    data: project\n  } = useQuery(GET_PROJECT, {\n    variables: {\n      projectId: Number(params.projectId)\n    }\n  });\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center text-xl font-bold\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this);\n  }\n\n  if ((project === null || project === void 0 ? void 0 : project.getProject.userId) !== (user === null || user === void 0 ? void 0 : user.me.id)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"You do not have access to this project.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-2 my-4 flex flex-col sm:flex-row space-y-2 sm:space-y-0 justify-between sm:items-center max-w-[860px] md:mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-2 bg-blue-600 text-white sm:w-[220px] rounded-md\",\n        onClick: () => setShowCreateForm(true),\n        children: \"Add new task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-2 bg-red-800 text-white sm:w-[220px] rounded-md\",\n        onClick: () => setShowDeleteConfirm(true),\n        children: \"Delete Project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen mt-4 mx-2 space-x-2 justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(ProjectStatusContainer, {\n        project: project,\n        setTaskShown: setTaskShown,\n        setShowTaskInfo: setShowTaskInfo,\n        status: \"Not Started\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProjectStatusContainer, {\n        project: project,\n        setShowTaskInfo: setShowTaskInfo,\n        setTaskShown: setTaskShown,\n        status: \"In Progress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProjectStatusContainer, {\n        project: project,\n        setShowTaskInfo: setShowTaskInfo,\n        setTaskShown: setTaskShown,\n        status: \"Completed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), showCreateForm && /*#__PURE__*/_jsxDEV(CreateTask, {\n        project: project,\n        setShowForm: setShowCreateForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), showTaskInfo && /*#__PURE__*/_jsxDEV(TaskInformation, {\n        project: project,\n        task: taskShown,\n        setTaskShown: setTaskShown,\n        setShowTaskInfo: setShowTaskInfo,\n        setShowTaskEdit: setShowTaskEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), showTaskEdit && /*#__PURE__*/_jsxDEV(EditTask, {\n        setShowTaskEdit: setShowTaskEdit,\n        project: project,\n        task: taskShown\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), showDeleteConfirm && /*#__PURE__*/_jsxDEV(DeleteProjectConfirm, {\n        project: project,\n        setShowDeleteConfirm: setShowDeleteConfirm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ProjectBoard, \"JgoPNIEwIG+VOox9HH3Vjr0dmbg=\", false, function () {\n  return [useNavigate, useParams, useQuery];\n});\n\n_c = ProjectBoard;\nexport default ProjectBoard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProjectBoard\");","map":{"version":3,"names":["useQuery","React","useEffect","useState","useNavigate","useParams","GET_PROJECT","CreateTask","DeleteProjectConfirm","EditTask","ProjectStatusContainer","TaskInformation","ProjectBoard","user","userLoading","navigate","params","showCreateForm","setShowCreateForm","showTaskInfo","setShowTaskInfo","taskShown","setTaskShown","showTaskEdit","setShowTaskEdit","showDeleteConfirm","setShowDeleteConfirm","me","loading","data","project","variables","projectId","Number","getProject","userId","id"],"sources":["/Users/ryantraficante/Documents/projects/bug-tracker/web/src/Components/ProjectBoard.js"],"sourcesContent":["import { useQuery } from \"@apollo/client\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { GET_PROJECT } from \"../graphql/queries/project\";\nimport CreateTask from \"./CreateTask\";\nimport DeleteProjectConfirm from \"./DeleteProjectConfirm\";\nimport EditTask from \"./EditTask\";\nimport ProjectStatusContainer from \"./ProjectStatusContainer\";\nimport TaskInformation from \"./TaskInformation\";\n\nfunction ProjectBoard({ user, userLoading }) {\n  const navigate = useNavigate();\n  const params = useParams();\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [showTaskInfo, setShowTaskInfo] = useState(false);\n  const [taskShown, setTaskShown] = useState({});\n  const [showTaskEdit, setShowTaskEdit] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n\n  useEffect(() => {\n    if (!user?.me && !userLoading) {\n      navigate(\"/login\");\n    }\n  }, [navigate, user?.me, userLoading]);\n\n  const { loading, data: project } = useQuery(GET_PROJECT, {\n    variables: {\n      projectId: Number(params.projectId),\n    },\n  });\n\n  if (loading) {\n    return (\n      <div className=\"mt-8\">\n        <h2 className=\"text-center text-xl font-bold\">Loading...</h2>\n      </div>\n    );\n  }\n\n  if (project?.getProject.userId !== user?.me.id) {\n    return (\n      <div className=\"mt-8\">\n        <h2 className=\"text-center\">You do not have access to this project.</h2>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"m-2 my-4 flex flex-col sm:flex-row space-y-2 sm:space-y-0 justify-between sm:items-center max-w-[860px] md:mx-auto\">\n        <button\n          className=\"p-2 bg-blue-600 text-white sm:w-[220px] rounded-md\"\n          onClick={() => setShowCreateForm(true)}\n        >\n          Add new task\n        </button>\n        <button\n          className=\"p-2 bg-red-800 text-white sm:w-[220px] rounded-md\"\n          onClick={() => setShowDeleteConfirm(true)}\n        >\n          Delete Project\n        </button>\n      </div>\n      <div className=\"flex h-screen mt-4 mx-2 space-x-2 justify-center\">\n        {/* Tasks that have not been started */}\n        <ProjectStatusContainer\n          project={project}\n          setTaskShown={setTaskShown}\n          setShowTaskInfo={setShowTaskInfo}\n          status={\"Not Started\"}\n        />\n\n        {/* Tasks that are in progress */}\n        <ProjectStatusContainer\n          project={project}\n          setShowTaskInfo={setShowTaskInfo}\n          setTaskShown={setTaskShown}\n          status={\"In Progress\"}\n        />\n\n        {/* Tasks that have been completed */}\n        <ProjectStatusContainer\n          project={project}\n          setShowTaskInfo={setShowTaskInfo}\n          setTaskShown={setTaskShown}\n          status={\"Completed\"}\n        />\n\n        {showCreateForm && (\n          <CreateTask project={project} setShowForm={setShowCreateForm} />\n        )}\n\n        {showTaskInfo && (\n          <TaskInformation\n            project={project}\n            task={taskShown}\n            setTaskShown={setTaskShown}\n            setShowTaskInfo={setShowTaskInfo}\n            setShowTaskEdit={setShowTaskEdit}\n          />\n        )}\n\n        {showTaskEdit && (\n          <EditTask\n            setShowTaskEdit={setShowTaskEdit}\n            project={project}\n            task={taskShown}\n          />\n        )}\n\n        {showDeleteConfirm && (\n          <DeleteProjectConfirm\n            project={project}\n            setShowDeleteConfirm={setShowDeleteConfirm}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default ProjectBoard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}